<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!------ LINK CSS STYLE ------->
  <link rel="stylesheet" href="assets/css/style.css">
  <!------ FAVICON ------->
  <link rel="shortcut icon" href="assets/img/favicon/830da1b9d031a459d1fc38de3c90197c_tn-removebg-preview.png"
    type="image/x-icon">
  <!------ LINK FONTAWESOME ------->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!----- LINK SLICK JS ------>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css">
  <!--icon Dark-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.0/font/bootstrap-icons.css" />
  <!-- SCRIPT JIVOCHAT -->
  <script src="//code.jivosite.com/widget/1YD6UYyWt8" async></script>
  <!----- SCRIPT - FEATHERICONS ----- -->
  <script src="https://unpkg.com/feather-icons"></script>
  <!-- SCRIPT JIVOCHAT -->
  <script src="//code.jivosite.com/widget/1YD6UYyWt8" async></script>

  <script src="assets/js/index.js" defer></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <title>E-Ecommerce - Users</title>

</head>

<body>

  <!------ MENU ------->
  <header id="header" class="container header">
    <nav class="menu nav">
      <div class="divDaLogo">
        <img src="assets/img/Logo-Ecommerce/logo_vermelha.png" alt="logo" class="logoEcommerce">
      </div>

      <!-- MENU RESPONSIVO DENTRO DO HAMBURGUE -->
      <ul class='list menuMobile' id="menuMobile" role="menuMobile">
        <li id="active-link-menu"><a href="carrinho6/index.html">Home</a></li>
        <li><a href="produtos.html">Produtos</a></li>
        <li><a href="javascript:void(0)">Sobre-nós</a></li>
        <li><a href="javascript:void(0)">Contatos</a></li>
      </ul>


      <div class="configs-menu">
        <!---- SCROLL ABRE FECHA CARRINHO ---->
        <div class="config">
          <a>
            <i class="fas fa-shopping-bag" id="cart-btn"></i>
            <!-- Total de itens na sacolinha do carrinho -->
            <p id="cont-itens-carrinho" class="sacolinhaDark"></p>
          </a>
        </div>

        <!--ABERTURA DA DIV SISTEMA DE CARRINHO -->
        <div class="cardCarrinho-container" id="meuCarrinho">

          <section class="box-cart">

            <section class="description">

              <div class="produtos" style="width: 45%;">
                <p>Produtos</p>
              </div>

              <div style="width: 30%;">
                <p>Quantidade</p>
              </div>

              <div style="width: 20%;">
                <p>Preço</p>
              </div>

            </section>
            <!-- Abertura da div cart-item -->
            <div class="cart-item">

              <!-- Fechamento da div cart-item -->
            </div>

            <span id="totalFinal" class="total">
              <h2> Nenhum item escolhido </h2>
            </span>

            <button id="btnFinalizarCarrinho">
              <h2>Comprar</h2>
            </button>

          </section>
        </div>

        <!-- Email do usuario CONFIG -->
        <a href="users.html" title="Users List"><span id="user-email"></span></a>

        <!---- OPEN CONFIG ---->

        <div style="width: 18%;" class="config">
          <button type="button" onclick="Mudarestado('openConfig')">
            <a><i class="fas fa-cog"></i></a>
          </button>
        </div>

        <!--Abertura da Div openConfig-->
        <div id="openConfig" class="btn-config">

          <ul id="ul-OpenConfig">

            <li>
              <p>Minha Conta</p>
            </li>

            <li>
               <p><a href="cad_produto.html">Novo Produto</a></p>
            </li>

            <li>
              <p>Direitos</p>
            </li>

            <!-- Config Tema Dark & Light -->
            <!--Abertura da Div ul-OpenConfig-->
            <div class="ul-OpenConfig">
              <input type="checkbox" name="chenge-theme" id="chenge-theme" />
              <label for="chenge-theme">

                <li id="btn-theme">

                  <p>Tema</p>

                  <i class="bi bi-sun">
                    <p>Light</p>
                  </i>

                  <i class="bi bi-moon">
                    <p>Dark</p>
                  </i>

                </li>

              </label>

              <!--Fechamento da Div ul-OpenConfig-->
            </div>

            <li>
              <p>Feedbacks</p>
            </li>

            <span id='li-sair'></span>
          </ul>

          <!--Fechamento da Div openConfig-->
        </div>

        <!--ABERTURA DA DIV SISTEMA DE CARRINHO -->
      </div>

      <!-- SISTEMA DE MENU RESPONSIVEL -->
      <div class="divMenuMobile">
        <button class="btn-menu" aria-label="Abrir Menu" aria-haspopup="true" aria-controls="menu" aria-expanded="false"
          style="color: var(--important-color)">Menu<span class="hamburger"></span>
        </button>
      </div>

    </nav>

  </header>

  <!----------- USUÁRIOS ---------->
  <section class="catalogue-initial">
      <div class="titles-page">
      <h5>PRODUTOS</h5>
    </div>
    <div class="container mt-4">
        <h2>CADASTRO DE USUÁRIO</h2>
        <!-- Formulário para adicionar/editar usuário -->
        <form id="user-form" class="mb-4">
            <div class="form-group">
                <label for="name">Nome:</label>
                <input type="text" id="name" name="name" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="email">E-mail:</label>
                <input type="email" id="email" name="email" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="password">Senha:</label>
                <input type="password" id="password" name="password" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Salvar Usuário</button>
            <input type="hidden" id="user-id">
        </form>

        <!-- Campo de pesquisa -->
        <div class="form-group">
            <input type="text" id="search" class="form-control" placeholder="Search Users...">
        </div>

        <!-- Tabela para exibir os usuários -->
        <h2>Usuários</h2>
        <table id="user-table" class="table">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>E-mail</th>
                    <th>Senha</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody id="user-list">
                <!-- Os usuários serão adicionados aqui -->
            </tbody>
        </table>
    </div>


  </section>


  <!-------------- FOOTER ---------------->
  <footer>
    <div class="menu-footer">
      <div class="media">
        <div class="media-title">
          <a href="">
            <h2><img src="assets/img/Logo-Ecommerce/logo_vermelha.png" alt="Logo E-commerce"></h2>
          </a>
        </div>

        <div class="social-media">
          <a href=""><i class="fa-brands fa-facebook-f"></i></a>
          <a href=""><i class="fa-brands fa-instagram"></i></a>
          <a href=""><i class="fa-brands fa-twitter"></i></a>
        </div>
      </div>
      <div class="shop">
        <h3>Shop</h3>
        <ul>
          <li><a href="#">About us</a></li>
          <li><a href="#">Contact</a></li>
          <li><a href="#">Location</a></li>
          <li><a href="#">FAQ</a></li>
        </ul>
      </div>

      <div class="links">
        <h3>Links</h3>
        <ul>
          <li><a href="#">Eletronics</a></li>
          <li><a href="#">Summer</a></li>
          <li><a href="#">Book</a></li>
          <li><a href="#">Cosmetics</a></li>
          <li><a href="#">Furnitures</a></li>
        </ul>
      </div>

      <div class="contact">
        <h3>Contact</h3>
        <ul>
          <li><a href="tel:+551234567890">+55 12 3456 7890</a></li>
          <li><a href="ecommerce@gmail.com">ecommerce@gmail.com</a></li>
          <li><a href="#">Rua Principal, 123. Cidade - ET</a></li>
        </ul>
      </div>

    </div>

    <div class="copyright">
      <p>Termos, acordos e Política de Privacidade.</p>
      <p>© 2022 Dev Project. Todos os direitos reservados.</p>
    </div>
  </footer>

  <!-------------- SCRIPT SLICK JS ------------------->
  <script src="assets/js/scriptCarrinho.js"></script>
  <script src="assets/js/menuMobile.js"></script>

  <!-- SWEETALERT PERSONALIZADO -->
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script src="https://unpkg.com/scrollreveal"></script>
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>

    <script>
        // Função para salvar ou atualizar um usuário
        document.getElementById('user-form').addEventListener('submit', function(event) {
            event.preventDefault();

            var userName = document.getElementById('name').value;
            var userEmail = document.getElementById('email').value;
            var userPassword = document.getElementById('password').value;
            var userId = document.getElementById('user-id').value;

            if (userId) {
                // Atualiza o usuário existente
                updateUser(userId, userName, userEmail, userPassword);
            } else {
                // Adiciona um novo usuário
                addUser(userName, userEmail, userPassword);
            }

            // Limpa o formulário após adicionar/editar o usuário
            document.getElementById('user-form').reset();
        });

        // Função para adicionar um novo usuário
        function addUser(name, email, password) {
            var users = JSON.parse(localStorage.getItem('users')) || [];
            var newUser = {
                id: generateUserId(), // Gera um ID único
                name: name,
                email: email,
                password: password
            };
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            showUsers();
        }

        // Função para atualizar um usuário existente
        function updateUser(id, name, email, password) {
            var users = JSON.parse(localStorage.getItem('users')) || [];
            for (var i = 0; i < users.length; i++) {
                if (users[i].id === id) {
                    users[i].name = name;
                    users[i].email = email;
                    users[i].password = password;
                    break;
                }
            }
            localStorage.setItem('users', JSON.stringify(users));
            showUsers();
        }

        // Função para excluir um usuário
        function deleteUser(id) {
            var users = JSON.parse(localStorage.getItem('users')) || [];
            var updatedUsers = users.filter(function(user) {
                return user.id !== id;
            });
            localStorage.setItem('users', JSON.stringify(updatedUsers));
            showUsers();
        }

        // Função para exibir os usuários na tabela
        function showUsers() {
            var users = JSON.parse(localStorage.getItem('users')) || [];
            var userList = document.getElementById('user-list');
            userList.innerHTML = '';

            for (var i = 0; i < users.length; i++) {
                var user = users[i];
                var row = '<tr>';
                row += '<td>' + user.name + '</td>';
                row += '<td>' + user.email + '</td>';
                row += '<td>' + user.password + '</td>';
                row += '<td><button type="button" class="btn btn-primary btn-sm" onclick="editUser(\'' + user.id + '\')">Editar</button>';
                row += '<button type="button" class="btn btn-danger btn-sm ml-2" onclick="deleteUser(\'' + user.id + '\')">Excluir</button></td>';
                row += '</tr>';
                userList.innerHTML += row;
            }
        }

        // Função para editar um usuário
        function editUser(id) {
            var users = JSON.parse(localStorage.getItem('users')) || [];
            for (var i = 0; i < users.length; i++) {
                if (users[i].id === id) {
                    document.getElementById('name').value = users[i].name;
                    document.getElementById('email').value = users[i].email;
                    document.getElementById('password').value = users[i].password;
                    document.getElementById('user-id').value = users[i].id;
                    break;
                }
            }
        }

        // Função para gerar um ID único para os usuários
        function generateUserId() {
            return '_' + Math.random().toString(36).substr(2, 9);
        }
         // Função para filtrar os produtos conforme a pesquisa
        document.getElementById('search').addEventListener('input', function() {
            var searchTerm = this.value.toLowerCase();
            var users = JSON.parse(localStorage.getItem('users')) || [];
            var filteredProducts = users.filter(function(users) {
                return users.name.toLowerCase().includes(searchTerm);
            });
            var productList = document.getElementById('user-list');
            productList.innerHTML = '';

            for (var i = 0; i < filteredProducts.length; i++) {
                var users = filteredProducts[i];
                var row = '<tr>';
                row += '<td>' + users.name + '</td>';
                row += '<td>' + users.email + '</td>';
                row += '<td>' + users.password + '</td>';
                row += '<td><button type="button" class="btn btn-primary btn-sm" onclick="editUser(\'' + users.id + '\')">Editar</button>';
                row += '<button type="button" class="btn btn-danger btn-sm ml-2" onclick="deleteUser(\'' + users.id + '\')">Excluir</button></td>';
                row += '</tr>';
                productList.innerHTML += row;
            }
        });

        // Exibe os usuários na tabela ao carregar a página
        showUsers();
  </script>
</body>

</html>